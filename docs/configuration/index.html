<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Configuring Metro | Metro</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://metrobundler.dev/img/opengraph.png"><meta data-rh="true" name="twitter:image" content="https://metrobundler.dev/img/opengraph.png"><meta data-rh="true" property="og:url" content="https://metrobundler.dev/docs/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring Metro | Metro"><meta data-rh="true" name="description" content="A Metro config can be created in these three ways (ordered by priority):"><meta data-rh="true" property="og:description" content="A Metro config can be created in these three ways (ordered by priority):"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://metrobundler.dev/docs/configuration"><link data-rh="true" rel="alternate" href="https://metrobundler.dev/docs/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://metrobundler.dev/docs/configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://T38HJZTD87-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q1FRRC47Y6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Q1FRRC47Y6",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Metro" href="/opensearch.xml">


<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.55c2f78b.css">
<script src="/assets/js/runtime~main.297b9cb3.js" defer="defer"></script>
<script src="/assets/js/main.0f4617db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>

<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#20232a;color:#fff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Join us for React Conf on Oct 7-8. <a target="_blank" rel="noopener noreferrer" href="https://conf.react.dev">Learn more</a>.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/metro.svg" alt="Metro Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/metro.svg" alt="Metro Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Metro</b></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/api">API</a><a class="navbar__item navbar__link" href="/help">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://twitter.com/MetroBundler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/facebook/metro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/getting-started">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/api">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api">Bundling API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/module-api">Module API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/configuration">Configuring Metro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli">Metro CLI Options</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/package-exports">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/local-development">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/bundling">Deep Dives</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Metro</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Metro</h1></header><p>A Metro config can be created in these three ways (ordered by priority):</p>
<ol>
<li><code>metro.config.js</code></li>
<li><code>metro.config.json</code></li>
<li>The <code>metro</code> field in <code>package.json</code></li>
</ol>
<p>You can also give a custom file to the configuration by specifying <code>--config &lt;path/to/config&gt;</code> when calling the CLI.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When Metro is started via the React Native CLI, some defaults are different from those mentioned below.
See the <a href="https://github.com/facebook/react-native/blob/main/packages/community-cli-plugin/src/utils/loadMetroConfig.js" target="_blank" rel="noopener noreferrer">React Native repository</a> for details.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-structure">Configuration Structure<a href="#configuration-structure" class="hash-link" aria-label="Direct link to Configuration Structure" title="Direct link to Configuration Structure">​</a></h2>
<p>The configuration is based on <a href="/docs/concepts">our concepts</a>, which means that for every module we have a separate config option. A common configuration structure in Metro looks like this:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">watcher</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* watcher options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">watchman</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* Watchman-specific options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-options">General Options<a href="#general-options" class="hash-link" aria-label="Direct link to General Options" title="Direct link to General Options">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cachestores"><code>cacheStores</code><a href="#cachestores" class="hash-link" aria-label="Direct link to cachestores" title="Direct link to cachestores">​</a></h4>
<p>Type: <code>CacheStores</code> (see details below)</p>
<p>A list of storage adapters for Metro&#x27;s <a href="/docs/caching">transformer cache</a>. This can be any combination of <a href="/docs/caching#built-in-cache-stores">built-in cache stores</a> and <a href="/docs/caching#custom-cache-stores">custom cache stores</a>. Defaults to using a temporary directory on disk as the only cache store.</p>
<p>When Metro needs to transform a module, it first computes a machine-independent cache key for that file, and uses it to try to read from each of the stores in order. Once Metro has obtained the output of the transformer (whether already cached or not), it writes the transform result to <em>all</em> of the stores that returned <code>null</code> (a cache miss) for that key.</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token maybe-class-name">CacheStores</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Array</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">CacheStore</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Buffer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">JsonSerializable</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">MetroCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Array</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">CacheStore</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Buffer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">JsonSerializable</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The exports of &#x27;metro-cache&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token maybe-class-name">MetroCache</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">FileStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">AutoCleanFileStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">HttpStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">HttpGetStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token maybe-class-name">JsonSerializable</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* Any JSON-serializable value */</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cacheversion"><code>cacheVersion</code><a href="#cacheversion" class="hash-link" aria-label="Direct link to cacheversion" title="Direct link to cacheversion">​</a></h4>
<p>Type: <code>string</code></p>
<p>An arbitrary string appended to all cache keys in the project before they are hashed. There is generally no need to set this explicitly, as Metro will automatically derive the correct cache keys from your project config and the contents of source files.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="projectroot"><code>projectRoot</code><a href="#projectroot" class="hash-link" aria-label="Direct link to projectroot" title="Direct link to projectroot">​</a></h4>
<p>Type: <code>string</code></p>
<p>The root folder of your project. If your project depends on any files outside this root, their containing directories must be listed in <a href="#watchfolders"><code>watchFolders</code></a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If your Metro project is developed in a monorepo and includes files from multiple logical packages, you&#x27;ll generally want to set <code>projectRoot</code> to the root of your repository, or at least high enough in the hierarchy that all relevant files are reachable without separately configuring <code>watchFolders</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="watchfolders"><code>watchFolders</code><a href="#watchfolders" class="hash-link" aria-label="Direct link to watchfolders" title="Direct link to watchfolders">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>A list of directories outside of <a href="#projectroot"><code>projectRoot</code></a> that can contain source files for the project.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Despite the naming of this option, it isn&#x27;t related solely to file watching. Even in an offline build (for example, in CI), all files must be visible to Metro through the combination of <code>watchFolders</code> and <code>projectRoot</code>.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Note that, as with any other file Metro needs to resolve, targets of any symlinks within your <code>watchFolders</code> <em>must also be within <code>watchFolders</code></em> and not otherwise excluded.</p><p>If you have a Metro project within a workspace, such as a <a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/" target="_blank" rel="noopener noreferrer">Yarn workspace</a> (a subdirectory of a Yarn workspace root), it&#x27;s likely you&#x27;ll want to include your workspace <em>root</em> path in your configured <code>watchFolders</code> so that Metro can resolve other workspaces or hoisted <code>node_modules</code>. Similarly, to use <a href="https://classic.yarnpkg.com/lang/en/docs/cli/link/" target="_blank" rel="noopener noreferrer">linked packages</a>, you&#x27;ll need to list those package source locations (or a containing directory) in <code>watchFolders</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformerpath"><code>transformerPath</code><a href="#transformerpath" class="hash-link" aria-label="Direct link to transformerpath" title="Direct link to transformerpath">​</a></h4>
<p>Type: <code>string</code></p>
<p>The absolute path of a module (or a package name resolvable from the <code>metro</code> package) that implements a transformer.</p>
<p>See the implementation of Metro&#x27;s default transformer (<a href="https://github.com/facebook/metro/blob/main/packages/metro-transform-worker/src/index.js" target="_blank" rel="noopener noreferrer"><code>metro-transform-worker</code></a>) for more information about the transformer interface.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reporter"><code>reporter</code><a href="#reporter" class="hash-link" aria-label="Direct link to reporter" title="Direct link to reporter">​</a></h4>
<p>Type: <code>{update: (event: ReportableEvent) =&gt; void}</code></p>
<p>Used to report the status of the bundler during the bundling process. The default implementation prints most events to the terminal.</p>
<p>See also the <a href="https://github.com/facebook/metro/blob/main/packages/metro/src/lib/reporting.js" target="_blank" rel="noopener noreferrer">definition of <code>ReportableEvent</code></a> in Metro&#x27;s source code.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resetcache"><code>resetCache</code><a href="#resetcache" class="hash-link" aria-label="Direct link to resetcache" title="Direct link to resetcache">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>If <code>true</code>, Metro will reset the transformer cache (see <a href="#cachestores"><code>cacheStores</code></a>) and the file map cache (see <a href="#filemapcachedirectory"><code>fileMapCacheDirectory</code></a>) on startup.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stickyworkers"><code>stickyWorkers</code><a href="#stickyworkers" class="hash-link" aria-label="Direct link to stickyworkers" title="Direct link to stickyworkers">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>If <code>true</code>, Metro will use a stable mapping from files to transformer workers, so the same file is always transformed by the same worker. This can improve initial build performance if the transformer is expensive to initialize, but can slow down concurrent builds with different configurations (e.g. multiple React Native apps connected to one Metro server). Defaults to <code>true</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maxworkers"><code>maxWorkers</code><a href="#maxworkers" class="hash-link" aria-label="Direct link to maxworkers" title="Direct link to maxworkers">​</a></h4>
<p>Type: <code>number</code></p>
<p>The number of workers to use for parallel processing in Metro. Defaults to approximately half of the number of cores available on the machine, as reported by <a href="https://nodejs.org/api/os.html#osavailableparallelism" target="_blank" rel="noopener noreferrer"><code>os.availableParallelism()</code></a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><ol>
<li>Values exceeding the number of available cores have no effect.</li>
<li>If <code>maxWorkers</code> is set to 1 or lower, worker code will run in the main Metro process instead of concurrently.</li>
<li>Metro has two separate worker pools - one for transformation and one for building the file map. Each pool has its worker count set to <code>maxWorkers</code> independently.</li>
</ol></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filemapcachedirectory"><code>fileMapCacheDirectory</code><a href="#filemapcachedirectory" class="hash-link" aria-label="Direct link to filemapcachedirectory" title="Direct link to filemapcachedirectory">​</a></h4>
<p>Type: <code>string</code></p>
<p>The path to the <code>metro-file-map</code> cache directory, defaults to <code>os.tmpdir()</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hastemapcachedirectory-deprecated"><code>hasteMapCacheDirectory</code> <div class="label deprecated">Deprecated</div><a href="#hastemapcachedirectory-deprecated" class="hash-link" aria-label="Direct link to hastemapcachedirectory-deprecated" title="Direct link to hastemapcachedirectory-deprecated">​</a></h4>
<p>Type: <code>string</code></p>
<p>Alias of <a href="#filemapcachedirectory"><code>fileMapCacheDirectory</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unstable_perfloggerfactory"><code>unstable_perfLoggerFactory</code><a href="#unstable_perfloggerfactory" class="hash-link" aria-label="Direct link to unstable_perfloggerfactory" title="Direct link to unstable_perfloggerfactory">​</a></h4>
<p>Type: <code>PerfLoggerFactory</code></p>
<p>A logger factory function that can be used to get insights about Metro performance timings and metadata for events including startup, bundling and HMR. Metro expects <code>unstable_perfLoggerFactory</code> to have the following signature:</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unstable_perfLoggerFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">opts</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> $ReadOnly</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    key</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">RootPerfLogger</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>type</code></strong> Type of event being logged, e.g. <code>&#x27;STARTUP&#x27;</code>, <code>&#x27;BUNDLING_REQUEST&#x27;</code>, <code>&#x27;HMR&#x27;</code>. See type definition of <a href="https://github.com/facebook/metro/blob/main/packages/metro-config/src/configTypes.flow.js" target="_blank" rel="noopener noreferrer">PerfLoggerFactory</a> for a full list of event types.</li>
<li><strong><code>opts</code></strong>
<ul>
<li><strong><code>key</code></strong>: An opaque identifier to distinguish between instances of an event type (e.g. multiple, possibly concurrent, HMR requests).</li>
</ul>
</li>
</ul>
<p><code>unstable_perfLoggerFactory</code> should return an object implementing the <a href="https://github.com/facebook/metro/blob/main/packages/metro-config/src/configTypes.flow.js" target="_blank" rel="noopener noreferrer">RootPerfLogger</a> interface. For example, a factory function returning a no-op RootPerfLogger could be implemented as follows:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">unstable_perfLoggerFactory</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">type</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> factoryOpts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">getLogger</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token parameter">subSpanLabel</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">opts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">status</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> opts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">subSpan</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">label</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">subSpanLabel </span><span class="token template-string interpolation operator" style="color:rgb(137, 221, 255)">??</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">label</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">point</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> opts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">annotate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">annotations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolver-options">Resolver Options<a href="#resolver-options" class="hash-link" aria-label="Direct link to Resolver Options" title="Direct link to Resolver Options">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="assetexts"><code>assetExts</code><a href="#assetexts" class="hash-link" aria-label="Direct link to assetexts" title="Direct link to assetexts">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>The list of asset file extensions to include in the bundle. For example, including <code>&#x27;ttf&#x27;</code> allows Metro bundles to reference <code>.ttf</code> files. This is used primarily to enable React Native&#x27;s <a href="https://reactnative.dev/docs/images" target="_blank" rel="noopener noreferrer">image asset support</a>. The default list includes many common image, video and audio file extensions. See <a href="https://github.com/facebook/metro/blob/main/packages/metro-config/src/defaults/defaults.js#L16" target="_blank" rel="noopener noreferrer">Metro&#x27;s source code</a> for the full list.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sourceexts"><code>sourceExts</code><a href="#sourceexts" class="hash-link" aria-label="Direct link to sourceexts" title="Direct link to sourceexts">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>The list of source file extensions to include in the bundle. For example, including <code>&#x27;ts&#x27;</code> allows Metro to include <code>.ts</code> files in the bundle.</p>
<p>The order of these extensions defines the order to match files on disk. For more information, see <a href="https://metrobundler.dev/docs/resolution" target="_blank" rel="noopener noreferrer">Module Resolution</a>.</p>
<p>Defaults to <code>[&#x27;js&#x27;, &#x27;jsx&#x27;, &#x27;json&#x27;, &#x27;ts&#x27;, &#x27;tsx&#x27;]</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolvermainfields"><code>resolverMainFields</code><a href="#resolvermainfields" class="hash-link" aria-label="Direct link to resolvermainfields" title="Direct link to resolvermainfields">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>The list of fields in <code>package.json</code> that Metro will treat as describing a package&#x27;s entry points. The default is <code>[&#x27;browser&#x27;, &#x27;main&#x27;]</code>, so the resolver will use the <code>browser</code> field if it exists and <code>main</code> otherwise.</p>
<p>Metro&#x27;s default resolver processes each of these fields according to the <a href="https://github.com/defunctzombie/package-browser-field-spec" target="_blank" rel="noopener noreferrer"><code>browser</code> field spec</a>, including the ability to <a href="https://github.com/defunctzombie/package-browser-field-spec#replace-specific-files---advanced" target="_blank" rel="noopener noreferrer">replace</a> and <a href="https://github.com/defunctzombie/package-browser-field-spec#ignore-a-module" target="_blank" rel="noopener noreferrer">ignore</a> specific files. For more information, see <a href="https://metrobundler.dev/docs/resolution" target="_blank" rel="noopener noreferrer">Module Resolution</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When using React Native, <code>resolverMainFields</code> defaults to <code>[&#x27;react-native&#x27;, &#x27;browser&#x27;, &#x27;main&#x27;]</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disablehierarchicallookup"><code>disableHierarchicalLookup</code><a href="#disablehierarchicallookup" class="hash-link" aria-label="Direct link to disablehierarchicallookup" title="Direct link to disablehierarchicallookup">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Whether to disable <a href="https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders" target="_blank" rel="noopener noreferrer">looking up modules in <code>node_modules</code> folders</a>. This only affects the default search through the directory tree, not other Metro options like <code>extraNodeModules</code> or <code>nodeModulesPaths</code>. Defaults to <code>false</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="emptymodulepath"><code>emptyModulePath</code><a href="#emptymodulepath" class="hash-link" aria-label="Direct link to emptymodulepath" title="Direct link to emptymodulepath">​</a></h4>
<p>Type: <code>string</code></p>
<p>What module to use as the canonical &quot;empty&quot; module when one is needed. Defaults to using the one included in <code>metro-runtime</code>. You only need to change this if Metro is installed outside of your project.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enableglobalpackages"><code>enableGlobalPackages</code><a href="#enableglobalpackages" class="hash-link" aria-label="Direct link to enableglobalpackages" title="Direct link to enableglobalpackages">​</a></h4>
<p>Type: <code>boolean</code>.</p>
<p>Whether to automatically resolve references to first-party packages (e.g. workspaces) in your project. Any <code>package.json</code> file with a valid <code>name</code> property within <code>projectRoot</code> or <code>watchFolders</code> (but outside of <code>node_modules</code>) counts as a package for this purpose. Defaults to <code>false</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="extranodemodules"><code>extraNodeModules</code><a href="#extranodemodules" class="hash-link" aria-label="Direct link to extranodemodules" title="Direct link to extranodemodules">​</a></h4>
<p>Type: <code>{[string]: string}</code></p>
<p>A mapping of package names to directories that is consulted after the standard lookup through <code>node_modules</code> as well as any <a href="#nodemodulespaths"><code>nodeModulesPaths</code></a>. For more information, see <a href="https://metrobundler.dev/docs/resolution" target="_blank" rel="noopener noreferrer">Module Resolution</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nodemodulespaths"><code>nodeModulesPaths</code><a href="#nodemodulespaths" class="hash-link" aria-label="Direct link to nodemodulespaths" title="Direct link to nodemodulespaths">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>A list of paths to check for modules after looking through all <code>node_modules</code> directories. This is useful if third-party dependencies are installed in a different location outside of the direct path of source files. For more information, see <a href="https://metrobundler.dev/docs/resolution" target="_blank" rel="noopener noreferrer">Module Resolution</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resolverequest"><code>resolveRequest</code><a href="#resolverequest" class="hash-link" aria-label="Direct link to resolverequest" title="Direct link to resolverequest">​</a></h4>
<p>Type: <a href="/docs/resolution#resolverequest-customresolver"><code>?CustomResolver</code></a></p>
<p>An optional function used to override the default resolution algorithm. This is particularly useful for cases where aliases or custom protocols are used. For example:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">resolveRequest</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> moduleName</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">moduleName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">startsWith</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-custom-resolver:&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Logic to resolve the module name to a file path...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// NOTE: Throw an error if there is no resolution.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">filePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;path/to/file&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sourceFile&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Optionally, chain to the standard Metro resolver.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">resolveRequest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> moduleName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information on customizing the resolver, see <a href="https://metrobundler.dev/docs/resolution" target="_blank" rel="noopener noreferrer">Module Resolution</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="usewatchman"><code>useWatchman</code><a href="#usewatchman" class="hash-link" aria-label="Direct link to usewatchman" title="Direct link to usewatchman">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>If set to <code>false</code>, prevents Metro from using Watchman (even if it&#x27;s installed).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="blocklist"><code>blockList</code><a href="#blocklist" class="hash-link" aria-label="Direct link to blocklist" title="Direct link to blocklist">​</a></h4>
<p>Type: <code>RegExp</code> or <code>Array&lt;RegExp&gt;</code></p>
<p>A regular expression (or list of regular expressions) defining which paths to exclude from Metro&#x27;s file map. Files whose absolute paths match these patterns are effectively hidden from Metro and cannot be resolved or imported in the current project.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hasteimplmodulepath"><code>hasteImplModulePath</code><a href="#hasteimplmodulepath" class="hash-link" aria-label="Direct link to hasteimplmodulepath" title="Direct link to hasteimplmodulepath">​</a></h4>
<p>Type: <code>?string</code></p>
<p>The path to the Haste implementation for the current project. Haste is an opt-in mechanism for importing modules by their globally-unique name anywhere in the project, e.g. <code>import Foo from &#x27;Foo&#x27;</code>.</p>
<p>Metro expects this module to have the following signature:</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">getHasteName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>getHasteName</code> should return a short, globally unique name for the module whose path is <code>filePath</code>, or <code>null</code> if the module should not be accessible via Haste.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="platforms"><code>platforms</code><a href="#platforms" class="hash-link" aria-label="Direct link to platforms" title="Direct link to platforms">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>Additional platforms to resolve. Defaults to <code>[&#x27;ios&#x27;, &#x27;android&#x27;, &#x27;windows&#x27;, &#x27;web&#x27;]</code>.</p>
<p>For more information, see <a href="/docs/resolution">Module Resolution</a> and <a href="https://reactnative.dev/docs/platform-specific-code#platform-specific-extensions" target="_blank" rel="noopener noreferrer">React Native&#x27;s documentation for platform-specific extensions</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="requirecycleignorepatterns"><code>requireCycleIgnorePatterns</code><a href="#requirecycleignorepatterns" class="hash-link" aria-label="Direct link to requirecycleignorepatterns" title="Direct link to requirecycleignorepatterns">​</a></h4>
<p>Type: <code>Array&lt;RegExp&gt;</code></p>
<p>In development mode, suppress require cycle warnings for any cycle involving a module that matches any of these expressions. This is useful for third-party code and first-party expected cycles.</p>
<p>Note that if you specify your own value for this config option it will replace (not concatenate with) Metro&#x27;s default.</p>
<p>Defaults to <code>[/(^|\/|\\)node_modules($|\/|\\)/]</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unstable_conditionnames-experimental"><code>unstable_conditionNames</code> <div class="label experimental">Experimental</div><a href="#unstable_conditionnames-experimental" class="hash-link" aria-label="Direct link to unstable_conditionnames-experimental" title="Direct link to unstable_conditionnames-experimental">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This setting will take effect when <a href="#unstable_enablepackageexports-experimental"><code>unstable_enablePackageExports</code></a>  is <code>true</code> (the default). It may not behave as described while this feature is experimental.</p></div></div>
<p>The set of <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#conditional-exports" target="_blank" rel="noopener noreferrer">condition names</a> to assert globally when interpreting the <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#exports" target="_blank" rel="noopener noreferrer"><code>&quot;exports&quot;</code> field</a> in package.json.</p>
<p>Conditions may be any string value and are resolved in the order specified by each package. Node.js documents a number of <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#community-conditions-definitions" target="_blank" rel="noopener noreferrer">community conditions</a> which are commonly used by package authors. The <code>default</code> condition is always matched.</p>
<p>Defaults to <code>[&#x27;require&#x27;]</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When using React Native, <code>unstable_conditionNames</code> defaults to <code>[&#x27;require&#x27;, &#x27;react-native&#x27;]</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unstable_conditionsbyplatform-experimental"><code>unstable_conditionsByPlatform</code> <div class="label experimental">Experimental</div><a href="#unstable_conditionsbyplatform-experimental" class="hash-link" aria-label="Direct link to unstable_conditionsbyplatform-experimental" title="Direct link to unstable_conditionsbyplatform-experimental">​</a></h4>
<p>Type: <code>{[platform: string]: Array&lt;string&gt;}</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This setting will take effect when <a href="#unstable_enablepackageexports-experimental"><code>unstable_enablePackageExports</code></a>  is <code>true</code> (the default). It may not behave as described while this feature is experimental.</p></div></div>
<p>The set of additional <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#conditional-exports" target="_blank" rel="noopener noreferrer">condition names</a> to dynamically assert by platform (see <a href="#platforms"><code>platforms</code></a>) when interpreting the <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#exports" target="_blank" rel="noopener noreferrer"><code>&quot;exports&quot;</code> field</a> in package.json.</p>
<p>Matched conditions are merged with <a href="#unstable-conditionnames"><code>unstable_conditionNames</code></a> before resolution. With the defaults for both options, the conditions <code>new Set([&#x27;require&#x27;, &#x27;browser&#x27;])</code> will be asserted when requesting a <code>web</code> bundle, and <code>new Set([&#x27;require&#x27;])</code> otherwise. Again, these are resolved in the order specified by each package.</p>
<p>Defaults to <code>‌{ web: [&#x27;browser&#x27;] }</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unstable_enablepackageexports-experimental"><code>unstable_enablePackageExports</code> <div class="label experimental">Experimental</div><a href="#unstable_enablepackageexports-experimental" class="hash-link" aria-label="Direct link to unstable_enablepackageexports-experimental" title="Direct link to unstable_enablepackageexports-experimental">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Enable experimental <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#package-entry-points" target="_blank" rel="noopener noreferrer">Package Exports</a> support. Under this mode, Metro will read the <a href="https://nodejs.org/docs/latest-v18.x/api/packages.html#exports" target="_blank" rel="noopener noreferrer"><code>&quot;exports&quot;</code> field</a> in <code>package.json</code> files when present and use it to resolve package entry points.</p>
<p>When no match is found in <code>&quot;exports&quot;</code>, Metro will log a warning and fall back to resolving modules without considering <code>&quot;exports&quot;</code>. This makes this mode largely backwards-compatible, with the following exceptions:</p>
<ul>
<li>If a module is matched in <code>&quot;exports&quot;</code>, <a href="#sourceexts"><code>sourceExts</code></a> and <a href="#platforms"><code>platforms</code></a> will not be considered (i.e. platform-specific extensions will not be used). This is done for compatibility with Node.</li>
<li>If a module exists at a file path that is also listed in <code>&quot;exports&quot;</code>, and the <code>&quot;exports&quot;</code> entry maps to a different file, the <code>&quot;exports&quot;</code> entry will be preferred.</li>
</ul>
<p>Defaults to <code>true</code> since Metro 0.82.0.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In a future release of Metro, this option will be removed.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transformer-options">Transformer Options<a href="#transformer-options" class="hash-link" aria-label="Direct link to Transformer Options" title="Direct link to Transformer Options">​</a></h3>
<a name="asyncrequiremodulepath"></a>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="asyncrequiremodulepath-deprecated"><code>asyncRequireModulePath</code> <div class="label deprecated">Deprecated</div><a href="#asyncrequiremodulepath-deprecated" class="hash-link" aria-label="Direct link to asyncrequiremodulepath-deprecated" title="Direct link to asyncrequiremodulepath-deprecated">​</a></h4>
<p>Type: <code>string</code></p>
<p>The name of a module that provides the <code>asyncRequire</code> function, which is used to implement <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import" target="_blank" rel="noopener noreferrer">dynamic <code>import()</code></a> at runtime. Defaults to <a href="https://github.com/facebook/metro/blob/main/packages/metro-runtime/src/modules/asyncRequire.js" target="_blank" rel="noopener noreferrer"><code>metro-runtime/src/modules/asyncRequire</code></a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The module named by <code>asyncRequireModulePath</code> is <a href="/docs/resolution">resolved</a> relative to the module containing the original <code>import()</code> call. In particular, assuming the default value of <code>asyncRequireModulePath</code> is in use, the project must have a compatible version of <code>metro-runtime</code> installed in <code>node_modules</code>.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>In older versions of Metro, a custom <code>asyncRequireModulePath</code> could be used as part of a bundle splitting solution. This usage is now deprecated in favor of the <a href="https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0605-lazy-bundling.md#__loadbundleasync-in-metro" target="_blank" rel="noopener noreferrer"><code>__loadBundleAsync</code></a> API.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamicdepsinpackages"><code>dynamicDepsInPackages</code><a href="#dynamicdepsinpackages" class="hash-link" aria-label="Direct link to dynamicdepsinpackages" title="Direct link to dynamicdepsinpackages">​</a></h4>
<p>Type: <code>&#x27;throwAtRuntime&#x27; | &#x27;reject&#x27;</code></p>
<p>Controls how Metro handles dependencies that cannot be statically analyzed at build time. For example, <code>require(&#x27;./&#x27; + someFunction() + &#x27;.js&#x27;)</code> cannot be resolved without knowing what <code>someFunction()</code> will return.</p>
<ul>
<li><strong><code>&#x27;throwAtRuntime&#x27;</code></strong> (the default): Metro does not stop bundling, but the <code>require</code> call will throw at runtime.</li>
<li><strong><code>&#x27;reject&#x27;</code></strong>: Metro will stop bundling and report an error to the user.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gettransformoptions"><code>getTransformOptions</code><a href="#gettransformoptions" class="hash-link" aria-label="Direct link to gettransformoptions" title="Direct link to gettransformoptions">​</a></h4>
<p>Type: Function (see details below)</p>
<p>A function called by Metro to calculate additional options for the transformer and serializer based on the specific bundle being built.</p>
<p>Metro expects <code>getTransformOptions</code> to have the following signature:</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getTransformOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">entryPoints</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> $ReadOnlyArray</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">options</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">dev</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">hot</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">platform</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">getDependenciesOf</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Array</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">ExtraTransformOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>getTransformOptions</code> receives these parameters:</p>
<ul>
<li><strong><code>entryPoints</code></strong>: Absolute paths to the bundle&#x27;s entry points (typically just one).</li>
<li><strong><code>options</code></strong>:<!-- -->
<ul>
<li><strong><code>dev</code></strong>: Whether the bundle is being built in development mode.</li>
<li><strong><code>hot</code></strong>: <div class="label deprecated">Deprecated</div> Always true.</li>
<li><strong><code>platform</code></strong>: The target platform (e.g. <code>ios</code>, <code>android</code>).</li>
</ul>
</li>
<li><strong><code>getDependenciesOf</code></strong>: A function which, given an absolute path to a module, returns a promise that resolves to the absolute paths of the module&#x27;s transitive dependencies.</li>
</ul>
<p><code>getTransformOptions</code> should return a promise that resolves to an object with the following properties:</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token maybe-class-name">ExtraTransformOptions</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  preloadedModules</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ramGroups</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Array</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  transform</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    inlineRequires</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">blockList</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token type class-name" style="color:rgb(255, 203, 107)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nonInlinedRequires</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> $ReadOnlyArray</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token type class-name" style="color:rgb(255, 203, 107)">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong><code>preloadedModules</code></strong>: A plain object whose keys represent a set of absolute paths. When serializing an <a href="https://reactnative.dev/docs/ram-bundles-inline-requires#enable-the-ram-format" target="_blank" rel="noopener noreferrer">indexed RAM bundle</a>, the modules in this set will be marked for eager evaluation at runtime.</li>
<li><strong><code>ramGroups</code></strong>: An array of absolute paths. When serializing an <a href="https://reactnative.dev/docs/ram-bundles-inline-requires#enable-the-ram-format" target="_blank" rel="noopener noreferrer">indexed RAM bundle</a>, each of the listed modules will be serialized along with its transitive dependencies. At runtime, the modules will all be parsed together as soon as any one of them is evaluated.</li>
<li><strong><code>transform</code></strong>: Advanced options for the transformer.<!-- -->
<ul>
<li><strong><code>inlineRequires</code></strong>:<!-- -->
<ul>
<li>If <code>inlineRequires</code> is a boolean, it controls whether <a href="https://reactnative.dev/docs/optimizing-javascript-loading#advanced-automatically-inline-require-calls" target="_blank" rel="noopener noreferrer">inline requires</a> are enabled in this bundle.</li>
<li>If <code>inlineRequires</code> is an object, inline requires are enabled in all modules, except ones whose absolute paths appear as keys of <code>inlineRequires.blockList</code>.</li>
</ul>
</li>
<li><strong><code>nonInlinedRequires</code></strong>: An array of unresolved module specifiers (e.g. <code>react</code>, <code>react-native</code>) to never inline, even when inline requires are enabled.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="minifierpath"><code>minifierPath</code><a href="#minifierpath" class="hash-link" aria-label="Direct link to minifierpath" title="Direct link to minifierpath">​</a></h4>
<p>Type: <code>string</code> (default: <code>&#x27;metro-minify-terser&#x27;</code>)</p>
<p>Path, or package name resolvable from <code>metro-transform-worker</code>, to the minifier that minifies the code after transformation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="minifierconfig"><code>minifierConfig</code><a href="#minifierconfig" class="hash-link" aria-label="Direct link to minifierconfig" title="Direct link to minifierconfig">​</a></h4>
<p>Type: <code>{[key: string]: mixed}</code></p>
<p>Configuration object that will be passed to the minifier (it should be serializable).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="optimizationsizelimit"><code>optimizationSizeLimit</code><a href="#optimizationsizelimit" class="hash-link" aria-label="Direct link to optimizationsizelimit" title="Direct link to optimizationsizelimit">​</a></h4>
<p>Type: <code>number</code></p>
<p>Define a threshold (in bytes) to disable some expensive optimizations for big files.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="react-native-only">React Native Only<a href="#react-native-only" class="hash-link" aria-label="Direct link to React Native Only" title="Direct link to React Native Only">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="assetplugins"><code>assetPlugins</code><a href="#assetplugins" class="hash-link" aria-label="Direct link to assetplugins" title="Direct link to assetplugins">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>List of modules to call to modify Asset data</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="assetregistrypath"><code>assetRegistryPath</code><a href="#assetregistrypath" class="hash-link" aria-label="Direct link to assetregistrypath" title="Direct link to assetregistrypath">​</a></h4>
<p>Type: <code>string</code></p>
<p>Where to fetch the assets from.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="babel-specific-transformer-options">Babel-specific transformer options<a href="#babel-specific-transformer-options" class="hash-link" aria-label="Direct link to Babel-specific transformer options" title="Direct link to Babel-specific transformer options">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="babeltransformerpath"><code>babelTransformerPath</code><a href="#babeltransformerpath" class="hash-link" aria-label="Direct link to babeltransformerpath" title="Direct link to babeltransformerpath">​</a></h4>
<p>Type: <code>string</code></p>
<p>The name of a module that compiles code with Babel, returning an AST and optional metadata. Defaults to <code>metro-babel-transformer</code>.</p>
<p>Refer to the source code of <a href="https://github.com/facebook/metro/blob/main/packages/metro-babel-transformer/src/index.js" target="_blank" rel="noopener noreferrer"><code>metro-babel-transformer</code></a> and <a href="https://github.com/facebook/react-native/blob/main/packages/react-native-babel-transformer/src/index.js" target="_blank" rel="noopener noreferrer"><code>@react-native/metro-babel-transformer</code></a> for details on implementing a custom Babel transformer.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This option only has an effect under the default <a href="#transformerpath"><code>transformerPath</code></a>. Custom transformers may ignore it.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enablebabelrclookup"><code>enableBabelRCLookup</code><a href="#enablebabelrclookup" class="hash-link" aria-label="Direct link to enablebabelrclookup" title="Direct link to enablebabelrclookup">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Whether to enable searching for Babel configuration files. This is passed to Babel as the <a href="https://babeljs.io/docs/en/options#babelrc" target="_blank" rel="noopener noreferrer"><code>babelrc</code></a> config option. Defaults to <code>true</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This option only has an effect under the default <a href="#transformerpath"><code>transformerPath</code></a>. Custom transformers may ignore it. Custom <a href="#babeltransformerpath">Babel transformers</a> should respect this option.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enablebabelruntime"><code>enableBabelRuntime</code><a href="#enablebabelruntime" class="hash-link" aria-label="Direct link to enablebabelruntime" title="Direct link to enablebabelruntime">​</a></h4>
<p>Type: <code>boolean | string</code></p>
<p>Whether the transformer should use the <code>@babel/transform/runtime</code> plugin. Defaults to <code>true</code>.</p>
<p>If the value is a string, it is treated as a runtime version number and passed as <code>version</code> to the <code>@babel/plugin-transform-runtime</code> configuration. This allows you to optimize the generated Babel runtime calls based on the version installed in your project.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This option only works under the default settings for React Native. It may have no effect in a project that uses custom <a href="#transformerpath"><code>transformerPath</code></a>, a custom <a href="#babeltransformerpath"><code>babelTransformerPath</code></a> or a custom <a href="https://babeljs.io/docs/en/config-files" target="_blank" rel="noopener noreferrer">Babel config file</a>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hermesparser"><code>hermesParser</code><a href="#hermesparser" class="hash-link" aria-label="Direct link to hermesparser" title="Direct link to hermesparser">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Whether to use the <a href="https://www.npmjs.com/package/hermes-parser" target="_blank" rel="noopener noreferrer"><code>hermes-parser</code></a> package to parse JavaScript source files, instead of Babel. Defaults to <code>false</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This option only has an effect under the default <a href="#transformerpath"><code>transformerPath</code></a> and the <a href="#babeltransformerpath">Babel transformers</a> built into Metro. Custom transformers and custom <a href="#babeltransformerpath">Babel transformers</a> may ignore it.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="serializer-options">Serializer Options<a href="#serializer-options" class="hash-link" aria-label="Direct link to Serializer Options" title="Direct link to Serializer Options">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="getrunmodulestatement"><code>getRunModuleStatement</code><a href="#getrunmodulestatement" class="hash-link" aria-label="Direct link to getrunmodulestatement" title="Direct link to getrunmodulestatement">​</a></h4>
<p>Type: <code>(number | string) =&gt; string</code></p>
<p>Specify the format of the initial require statements that are appended at the end of the bundle. By default is <code>__r(${moduleId});</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="createmoduleidfactory"><code>createModuleIdFactory</code><a href="#createmoduleidfactory" class="hash-link" aria-label="Direct link to createmoduleidfactory" title="Direct link to createmoduleidfactory">​</a></h4>
<p>Type: <code>() =&gt; (path: string) =&gt; number</code></p>
<p>Used to generate the module id for <code>require</code> statements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="getpolyfills"><code>getPolyfills</code><a href="#getpolyfills" class="hash-link" aria-label="Direct link to getpolyfills" title="Direct link to getpolyfills">​</a></h4>
<p>Type: <code>({platform: ?string}) =&gt; $ReadOnlyArray&lt;string&gt;</code></p>
<p>An optional list of polyfills to include in the bundle. The list defaults to a set of common polyfills for Number, String, Array, Object...</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="getmodulesrunbeforemainmodule"><code>getModulesRunBeforeMainModule</code><a href="#getmodulesrunbeforemainmodule" class="hash-link" aria-label="Direct link to getmodulesrunbeforemainmodule" title="Direct link to getmodulesrunbeforemainmodule">​</a></h4>
<p>Type: <code>(entryFilePath: string) =&gt; Array&lt;string&gt;</code></p>
<p>An array of modules to be required before the entry point. It should contain the absolute path of each module. Note that this will add the additional require statements only if the passed modules are already included as part of the bundle.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="processmodulefilter"><code>processModuleFilter</code><a href="#processmodulefilter" class="hash-link" aria-label="Direct link to processmodulefilter" title="Direct link to processmodulefilter">​</a></h4>
<p>Type: <code>(module: Array&lt;Module&gt;) =&gt; boolean</code></p>
<p>A filter function to discard specific modules from the output.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="isthirdpartymodule"><code>isThirdPartyModule</code><a href="#isthirdpartymodule" class="hash-link" aria-label="Direct link to isthirdpartymodule" title="Direct link to isthirdpartymodule">​</a></h4>
<p>Type: <code>(module: {path: string, ...}) =&gt; boolean</code></p>
<p>A function that determines which modules are added to the <a href="https://developer.chrome.com/articles/x-google-ignore-list/" target="_blank" rel="noopener noreferrer"><code>x_google_ignoreList</code></a> field of the source map. This supports <a href="https://developer.chrome.com/blog/devtools-modern-web-debugging/#just-my-code" target="_blank" rel="noopener noreferrer">&quot;Just My Code&quot;</a> debugging in Chrome DevTools and other compatible debuggers.</p>
<p>Defaults to returning <code>true</code> for modules with a path component named <code>node_modules</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In addition to modules marked as ignored by <code>isThirdPartyModule</code>, Metro will also automatically add modules generated by the bundler itself to the ignore list.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-options">Server Options<a href="#server-options" class="hash-link" aria-label="Direct link to Server Options" title="Direct link to Server Options">​</a></h3>
<p>These options are used when Metro serves the content.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="port"><code>port</code><a href="#port" class="hash-link" aria-label="Direct link to port" title="Direct link to port">​</a></h4>
<p>Type: <code>number</code></p>
<p>Which port to listen on.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="useglobalhotkey"><code>useGlobalHotkey</code><a href="#useglobalhotkey" class="hash-link" aria-label="Direct link to useglobalhotkey" title="Direct link to useglobalhotkey">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Whether we should enable CMD+R hotkey for refreshing the bundle.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enhancemiddleware-deprecated"><code>enhanceMiddleware</code> <div class="label deprecated">Deprecated</div><a href="#enhancemiddleware-deprecated" class="hash-link" aria-label="Direct link to enhancemiddleware-deprecated" title="Direct link to enhancemiddleware-deprecated">​</a></h4>
<p>Type: <code>(Middleware, MetroServer) =&gt; Middleware</code></p>
<p>A function that allows attaching custom <a href="https://www.npmjs.com/package/connect" target="_blank" rel="noopener noreferrer"><code>connect</code></a> middleware to Metro. For example:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can use <a href="https://www.npmjs.com/package/connect#mount-middleware" target="_blank" rel="noopener noreferrer"><code>connect()</code></a> as a utility to extend the base <code>metroMiddleware</code> and to mount additional middleware handlers.</p></div></div>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">enhanceMiddleware</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">metroMiddleware</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Middleware</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> metroServer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> MetroServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">metroMiddleware</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/custom-endpoint&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">customEndpointMiddleware</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>Middleware</code> type is an alias for <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/876b9ec96ba02d0c84b1e49af5890c8f5aa2dfe3/types/connect/index.d.ts#L29" target="_blank" rel="noopener noreferrer"><code>connect.HandleFunction</code></a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rewriterequesturl"><code>rewriteRequestUrl</code><a href="#rewriterequesturl" class="hash-link" aria-label="Direct link to rewriterequesturl" title="Direct link to rewriterequesturl">​</a></h4>
<p>Type: <code>string =&gt; string</code></p>
<p>A function that will be called every time Metro processes a URL, after normalization of non-standard query-string delimiters using <a href="https://www.npmjs.com/package/jsc-safe-url" target="_blank" rel="noopener noreferrer"><code>jsc-safe-url</code></a>. Metro will use the return value of this function as if it were the original URL provided by the client. This applies to all incoming HTTP requests (after any custom middleware), as well as bundle URLs in <code>/symbolicate</code> request payloads and within the hot reloading protocol.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="forwardclientlogs"><code>forwardClientLogs</code><a href="#forwardclientlogs" class="hash-link" aria-label="Direct link to forwardclientlogs" title="Direct link to forwardclientlogs">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Enable forwarding of <code>client_log</code> events (when client logs are <a href="https://github.com/facebook/metro/blob/614ad14a85b22958129ee94e04376b096f03ccb1/packages/metro/src/lib/createWebsocketServer.js#L20" target="_blank" rel="noopener noreferrer">configured</a>) to the reporter. Defaults to <code>true</code>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="watcher-options">Watcher Options<a href="#watcher-options" class="hash-link" aria-label="Direct link to Watcher Options" title="Direct link to Watcher Options">​</a></h3>
<p>Options for the filesystem watcher.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Dot notation in this section indicates a nested configuration object, e.g. <code>watchman.deferStates</code> → <code>watchman: { deferStates: ... }</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="additionalexts"><code>additionalExts</code><a href="#additionalexts" class="hash-link" aria-label="Direct link to additionalexts" title="Direct link to additionalexts">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>The extensions which Metro should watch in addition to <code>sourceExts</code>, but which will not be automatically tried by the resolver.</p>
<p>Therefore, the two behavior differences from <code>resolver.sourceExts</code> when importing a module are:</p>
<ul>
<li>Modules can only be required when fully specified (e.g. <code>import moduleA from &#x27;moduleA.mjs&#x27;</code>).</li>
<li>No platform-specific resolution is performed.</li>
</ul>
<p>Defaults to <code>[&#x27;cjs&#x27;, &#x27;mjs&#x27;]</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="healthcheckenabled"><code>healthCheck.enabled</code><a href="#healthcheckenabled" class="hash-link" aria-label="Direct link to healthcheckenabled" title="Direct link to healthcheckenabled">​</a></h4>
<p>Type: <code>boolean</code></p>
<p>Whether to periodically check the health of the filesystem watcher by writing a temporary file to the project and waiting for it to be observed.</p>
<p>The default value is <code>false</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="healthcheckfileprefix"><code>healthCheck.filePrefix</code><a href="#healthcheckfileprefix" class="hash-link" aria-label="Direct link to healthcheckfileprefix" title="Direct link to healthcheckfileprefix">​</a></h4>
<p>Type: <code>string</code></p>
<p>If watcher health checks are enabled, this property controls the name of the temporary file that will be written into the project filesystem.</p>
<p>The default value is <code>&#x27;.metro-health-check&#x27;</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>There&#x27;s no need to commit health check files to source control. If you choose to enable health checks in your project, make sure you add <code>.metro-health-check*</code> to your <code>.gitignore</code> file to avoid generating unnecessary changes.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="healthcheckinterval"><code>healthCheck.interval</code><a href="#healthcheckinterval" class="hash-link" aria-label="Direct link to healthcheckinterval" title="Direct link to healthcheckinterval">​</a></h4>
<p>Type: <code>number</code></p>
<p>If watcher health checks are enabled, this property controls how often they occur (in milliseconds).</p>
<p>The default value is 30000.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="healthchecktimeout"><code>healthCheck.timeout</code><a href="#healthchecktimeout" class="hash-link" aria-label="Direct link to healthchecktimeout" title="Direct link to healthchecktimeout">​</a></h4>
<p>Type: <code>number</code></p>
<p>If watcher health checks are enabled, this property controls the time (in milliseconds) Metro will wait for a file change to be observed before considering the check to have failed.</p>
<p>The default value is 5000.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="watchmandeferstates"><code>watchman.deferStates</code><a href="#watchmandeferstates" class="hash-link" aria-label="Direct link to watchmandeferstates" title="Direct link to watchmandeferstates">​</a></h4>
<p>Type: <code>Array&lt;string&gt;</code></p>
<p>Applies when using Watchman. Metro will <a href="https://facebook.github.io/watchman/docs/cmd/subscribe.html#defer" target="_blank" rel="noopener noreferrer">defer processing filesystem updates</a> while these <a href="https://facebook.github.io/watchman/docs/cmd/state-enter.html" target="_blank" rel="noopener noreferrer">states</a> are asserted in the watch. This is useful for debouncing builds while the filesystem hasn&#x27;t settled, e.g. during large source control operations.</p>
<p>The default value is <code>[&#x27;hg.update&#x27;]</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="merging-configurations">Merging Configurations<a href="#merging-configurations" class="hash-link" aria-label="Direct link to Merging Configurations" title="Direct link to Merging Configurations">​</a></h2>
<p>Using the <code>metro-config</code> package it is possible to merge multiple configurations together.</p>
<table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>mergeConfig(...configs): MergedConfig</code></td><td>Returns the merged configuration of two or more configuration objects.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Arrays and function based config parameters do not deeply merge and will instead override any pre-existing config parameters.
This allows overriding and removing default config parameters such as <code>platforms</code> or <code>getModulesRunBeforeMainModule</code> that may not be required in your environment.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="merging-example">Merging Example<a href="#merging-example" class="hash-link" aria-label="Direct link to Merging Example" title="Direct link to Merging Example">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// metro.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> mergeConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;metro-config&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configA </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> configB </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* general options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolver</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* resolver options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">transformer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* transformer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">serializer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* serializer options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">server</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* server options */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mergeConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">configA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> configB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/metro/edit/main/docs/../docs/Configuration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-05-06T10:56:23.000Z" itemprop="dateModified">May 6, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/module-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Module API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metro CLI Options</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-structure" class="table-of-contents__link toc-highlight">Configuration Structure</a><ul><li><a href="#general-options" class="table-of-contents__link toc-highlight">General Options</a></li><li><a href="#resolver-options" class="table-of-contents__link toc-highlight">Resolver Options</a></li><li><a href="#transformer-options" class="table-of-contents__link toc-highlight">Transformer Options</a></li><li><a href="#babel-specific-transformer-options" class="table-of-contents__link toc-highlight">Babel-specific transformer options</a></li><li><a href="#serializer-options" class="table-of-contents__link toc-highlight">Serializer Options</a></li><li><a href="#server-options" class="table-of-contents__link toc-highlight">Server Options</a></li><li><a href="#watcher-options" class="table-of-contents__link toc-highlight">Watcher Options</a></li></ul></li><li><a href="#merging-configurations" class="table-of-contents__link toc-highlight">Merging Configurations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/configuration">Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/MetroBundler" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/metro" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/metrojs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reactnative.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">React Native<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/oss_logo.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Meta Platforms, Inc.</div></div></div></footer></div>
</body>
</html>