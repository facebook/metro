You will need Node 6 or newer in order to build the Metro website.

# Run the server

The first time, get all the dependencies loaded via

```
yarn
```

in the root directory.

Then, run the server via

```
npm start
Open http://localhost:3000
```

Anytime you change the contents, just refresh the page and it's going to be
updated

# Publish the website

The Metro website is hosted as a GitHub page. A static site is generated by
`server/generate.js` and its output is pushed to the `gh-pages` branch by
CircleCI whenever `main` is updated.

To deploy the website manually, run the following command as a Git user with
write permissions:

```
DEPLOY_USER=facebook GIT_USER=metro-bot CIRCLE_PROJECT_USERNAME=facebook CIRCLE_PROJECT_REPONAME=metro npm run gh-pages
```

## Staging

Run the above command against your own fork of `facebook/metro`:

```
DEPLOY_USER=YOUR_GITHUB_USERNAME GIT_USER=YOUR_GITHUB_USERNAME CIRCLE_PROJECT_USERNAME=YOUR_GITHUB_USERNAME CIRCLE_PROJECT_REPONAME=metro npm run gh-pages
```
